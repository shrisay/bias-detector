{% extends "biasdetector/layout.html" %}
{% block style %}
<style>
    [data-bs-theme="light"] body {
        background-image: url('/static/biasdetector/SVG/light-about.svg');
    }

    [data-bs-theme="dark"] body {
        background-image: url('/static/biasdetector/SVG/dark-about.svg');
    }
</style>
{% endblock %}

{% block title %}Feedback{% endblock %}

{% block body %}
    <section class="d-flex flex-column align-items-center text-center px-3 mt-3">
        <div class="container my-4">
            <h1>All Feedback</h1>

            {% for fb in page_obj %}
            <div class="card mb-3 shadow-sm">
                <div class="card-body">
                    <p><strong>URL:</strong> {{ fb.article_url }}</p>
                    <p><strong>Label:</strong> {{ fb.bias_label }}</p>
                    <p><strong>Agree:</strong> {{ fb.agree }}</p><br>
                    <p>{{ fb.comment|default:"(No comment)" }}</p>
                </div>
            </div>
            {% empty %}
            <p>No feedback submitted yet.</p>
            {% endfor %}

            <!-- Pagination controls -->
            <nav>
                <ul class="pagination">
                    {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled"><span class="page-link">Previous</span></li>
                    {% endif %}

                    <li class="page-item disabled">
                        <span class="page-link">
                            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                        </span>
                    </li>

                    {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled"><span class="page-link">Next</span></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </section>  
{% endblock %}
